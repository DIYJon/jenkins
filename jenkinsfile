@Library('jenkins_shared') _

pipeline{
    agent any
    stages{
        stage("Build"){
            steps{
                echo "Build"
                hello()
                helloVariable('Jon')
                script{
                    utils.printFromFunction()
                    utils.replaceString()
                }

            }
        }
        
        stage('Test on OS'){
            parallel{
                stage("Test on linux"){
                    steps{
                        text.contains("${BUILD_NUMBER}")
                        
                        
                    }
                }

                stage("Test on windows"){
                    steps{
                        echo "Windows"
                    }
                }
            }
        }
        stage("Deploy"){
            steps{
                echo "Deploy"
            }
            
        }
    }
}